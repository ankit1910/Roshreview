<flash-notice></flash-notice>
<header-bar></header-bar>

<div id="container">
  <div class="flash"></div>
  <div class="leftContent registration">
    <h1>Manage Profile</h1>
    <div class="regForm">
    <h2>Login Information</h2>
    <form ng-model="settingsForm" class='form-horizontal'
          name="form", ng-submit="submitForm()">
      <div class="row">
        <div class="formField">
          <label for="subscriber_firstname">First Name</label>
          <input id="subscriber_firstname" type="text" name="firstname"
                 maxlength="10" ng-model="settingsForm.firstname" size="30"
                 required />
          <div class="error" ng-if="form.firstname.$invalid">{{form.firstname.$error}}</div>
          <div class="error">{{firstname_error}}</div>
        </div>
        <div class="formField fr">
          <label for="subscriber_lastname">Last Name</label>
          <input id="subscriber_lastname" type="text" name="lastname"
                 maxlength="10" ng-model="settingsForm.lastname" size="30"
                 required />
          <div class="error" ng-if="form.lastname.$invalid">{{form.lastname.$error}}</div>
          <div class="error">{{lastname_error}}</div>
        </div>
      </div>

      <div class="row">
        <div class="formField">
          <label for="subscribers_email">Email</label>
          <input class="disable" ng-model="settingsForm.email" ng-readonly="true" id="subscribers_email" type="text">
        </div>
      </div>

      <div class="row">
        <div class="formField">
          <label for="subscriber_password">Password</label>
          <input id="subscriber_password" ng-model="settingsForm.password" size="30" type="password">
          <div class="error">{{account_password_error}}</div>
        </div>
        <div class="formField fr">
          <label for="subscriber_password_confirmation">Password Confirmation</label>
          <input id="subscriber_password_confirmation" ng-model="settingsForm.password_confirmation" size="30" type="password">
          <div class="error"></div>
        </div>
      </div>

      <h2>Affiliation Information</h2>
      <div class="row">
        <div class="formField">
          <label for="training_level_id">Level of Training</label>
          <input class="disable" ng-readonly="true" ng-model="settingsForm.training_level_name" id="training_level_id" type="text">
          <div class="error">
          </div>
        </div>
        <div class="formField fr">
          <label for="degree">Degree/Field of Study</label>
          <input class="disable" ng-readonly="true" ng-model="settingsForm.degree_name" id="degree" type="text">
        </div>
      </div>

      <div class="row">
        <div class="formField">
          <label for="speciality">Speciality</label>
          <input class="disable" ng-readonly="true" ng-model="settingsForm.speciality_name" id="speciality" type="text">
        </div>
        <div class="formField fr">
          <label for="date_of_graduation">Year of residency graduation (school for students)</label>
          <input class="disable" id="date_of_graduation" ng-readonly="true" ng-model="settingsForm.date_of_graduation" type="text">
        </div>
      </div>

      <div class="row">
        <div class="formField">
          <label for="program">Residency Program (if applicable)</label>
          <input class="disable" id="program" ng-readonly="true" ng-model="settingsForm.program_name" type="text">
        </div>
        <div class="formField fr">
          <label for="subscriber_school_name">School</label>
          <select style="width:420px" id="subscriber_school_name" ng-model="settingsForm.school_name" ng-options="school for school in settingsForm.school_names"></select>
        </div>
        <div class="error"></div>
      </div>
      <div study-objective></div>
    </div>
    <div class="row buttons">
      <input class="login" ng-click="submitForm()" type="submit" value="Update Profile">
    </div>
</form>
<div class="subsHistory">
  <h2>Package Subscription History</h2>
  <div class="row headRow">
    <div class="col01">Package Name</div>
    <div class="col03">Start Date</div>
    <div class="col04">Expiry Date</div>
    <div class="col05">Payment Method</div>
    <div class="col06">State</div>
  </div>

  <div class="row" ng-repeat="subscription in settingsForm.packages_subscriptions">
    <div class="col01">{{subscription.package_name}}</div>
    <div class="col03">{{subscription.start_at | date:'mediumDate'}}</div>
    <div class="col04">{{subscription.expire_at | date:'mediumDate'}}</div>
    <div class="col05">{{subscription.payment_method}}</div>
    <div class="col06">{{subscription.status}}</div>
  </div>
</div>
